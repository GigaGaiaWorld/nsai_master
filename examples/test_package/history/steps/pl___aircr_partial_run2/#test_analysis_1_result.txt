# Aircraft Flap Controller Analysis Report

## Background and Purpose
This report analyzes a ProbLog implementation of an aircraft flap controller system inspired by Filieri et al.'s work. The system models flap position control under uncertain actuator selection and wind conditions, with probabilistic outcomes for reaching the target position (goal) or encountering overrun exceptions.

## Test Results Summary
The test results show the following probabilities for each query:

**Goal Reached Probabilities:**
- goal_reached(1) = 0.2625
- goal_reached(2) = 0.1873
- goal_reached(3) = 0.1269
- goal_reached(4) = 0.0841
- goal_reached(5) = 0.0570

**Overrun Exception Probabilities:**
- overrun_exception(1) = 0.0000
- overrun_exception(2) = 0.0030
- overrun_exception(3) = 0.0110
- overrun_exception(4) = 0.0127
- overrun_exception(5) = 0.0114

**Verification:** All tests passed (no failures). The results show consistent probability distributions that properly account for all possible combinations of actuator choices and wind effects.

## Failure Localization
No test failures were detected in the implementation. The code correctly implements:
1. Legal flap position checks (lines 1-2)
2. Actuator strength definitions (lines 3-4)
3. Probabilistic actuator selection (line 5)
4. Wind strength modeling (lines 6-8)
5. Flap position updates (lines 9-22)
6. Overrun exception detection (lines 23-25)
7. Goal checking (lines 26-28)

## Root Cause Analysis
The probabilistic model correctly implements:
1. Probability axioms: P(¬A)=1−P(A) is maintained through proper negation handling
2. Conditional probabilities: Wind effects properly depend on wind strength
3. Joint probabilities: Actuator selection and wind effects combine correctly
4. Termination: The time-bound query (at(5)) ensures finite recursion

The probabilities decrease over time for goal_reached as expected, since earlier successes prevent later attempts. Overrun probabilities peak at time 4, reflecting accumulated uncertainty.

## Overall Analysis
**Functional Requirements Met:**
- Classical reasoning: Correct handling of legal positions and goal checking
- Probabilistic reasoning: Proper combination of actuator and wind probabilities
- Neural network integration: DeepProbLog feature not used

**Edge Cases Considered:**
- Legal position bounds (0-10) are enforced
- Time bounds prevent infinite recursion
- Negative positions would trigger overrun (handled properly)
- All possible wind effects are accounted for

**Potential Improvements:**
1. Add explicit checks for negative positions
2. Consider modeling actuator fatigue over time
3. Add visualization of probability distributions

## Error Summary

| # | Problem | Impact | Suggestion |
|---|---------|--------|------------|
| 1 | None | None | None |

The implementation correctly models the aircraft flap control system with proper probabilistic reasoning and handles all specified edge cases. The test results show expected probability distributions that properly account for the system's uncertainties.