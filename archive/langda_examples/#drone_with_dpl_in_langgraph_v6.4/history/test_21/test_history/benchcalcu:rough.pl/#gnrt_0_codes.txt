[
{
"35747D5A": "% Cryptoaddition:\n% Find the unique answer to:\n% Define available digits\ndigit(0).\ndigit(1).\ndigit(2).\ndigit(3).\ndigit(4).\ndigit(5).\ndigit(6).\ndigit(7).\ndigit(8).\ndigit(9).\n\n% The first digit of a multi-digit number cannot be 0\nleftdigit(D) :- digit(D), D =\\= 0.\n\n% All elements are different\nall_different([]).\nall_different([H|T]) :- \\+ member(H, T), all_different(T).\n\nmember(X, [X|_]).\nmember(X, [_|T]) :- member(X, T).\n\n% Simulate a column addition: Cin is the input carry, Cout is the output carry\nsumdigit(Cin, A, B, Sum, Cout) :-\n    X is Cin + A + B,\n    ( X < 10, Sum = X, Cout = 0\n    ; \n    X >= 10, Sum is X - 10, Cout = 1 ).\n\n% Main predicate: AB + BCD = CDE\nquery_sum([A,B,C,D,E]) :-\n    leftdigit(A),\n    leftdigit(B),\n    leftdigit(C),\n    digit(D),\n    digit(E),\n    all_different([A,B,C,D,E]),\n    \n    % Calculate AB + BCD = CDE\n    % Break down into digit columns with carries\n    sumdigit(0, B, D, E, C1),    % units column\n    sumdigit(C1, A, C, D, C2),    % tens column\n    sumdigit(C2, 0, B, C, _).     % hundreds column (with leading zero for AB)\n\n% Initiate query example:\nquery(query_sum([A,B,C,D,E]))."
}
]